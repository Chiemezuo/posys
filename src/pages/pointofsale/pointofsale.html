<ion-header>
  <ion-navbar>
    <ion-title>Posys Point of Sale</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-grid full-height>
    <ion-row full-height>
      <ion-col width-67 full-height>

        <ion-row search-area>
          <ion-col>
            <omni-search
              (hasQuery)="setShowResults($event)"
              (searchResults)="setSearchResults($event)"></omni-search>
          </ion-col>
        </ion-row>

        <ion-list item-list *ngIf="showSearchItems">
          <ion-item no-border-bottom *ngIf="!searchItems.length">No search results.</ion-item>
          <ion-item>
            <query-item [item]="item" *ngFor="let item of searchItems"></query-item>
          </ion-item>
        </ion-list>

        <ion-list item-list *ngIf="!showSearchItems" id="transaction-list">
          <ion-item no-border-bottom *ngIf="!currentTransaction.length">No items in current transaction.</ion-item>
          <ion-item>
            <transaction-item [item]="item" [index]="i+1" *ngFor="let item of currentTransaction; let i = index"></transaction-item>
          </ion-item>
        </ion-list>

        <ion-list total-area>
          <ion-item>
            Subtotal
            <ion-note item-right>{{ subtotal | currencyFromSettings }}</ion-note>
          </ion-item>
          <ion-item>
            Tax
            <ion-note item-right>{{ tax | currencyFromSettings }}</ion-note>
          </ion-item>
          <ion-item>
            Total
            <ion-note item-right>{{ total | currencyFromSettings }}</ion-note>
          </ion-item>
        </ion-list>
      </ion-col>

      <ion-col width-33 full-height>
        <ion-grid>
          <ion-row>
            <ion-col main-button>
              <top-icon-button text="Hold" icon="pause" size="medium"></top-icon-button>
            </ion-col>
            <ion-col main-button>
              <top-icon-button text="Void" icon="close" size="medium"></top-icon-button>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col main-button>
              <top-icon-button text="Pay" icon="cash" size="medium"></top-icon-button>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-row>
                <ion-col main-button>
                  <top-icon-button text="Cash" icon="cash" size="medium"></top-icon-button>
                </ion-col>
                <ion-col main-button>
                  <top-icon-button text="Check" icon="cash" size="medium"></top-icon-button>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col main-button>
                  <top-icon-button text="Credit" icon="card" size="medium"></top-icon-button>
                </ion-col>
                <ion-col main-button>
                  <top-icon-button text="Debit" icon="card" size="medium"></top-icon-button>
                </ion-col>
              </ion-row>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
